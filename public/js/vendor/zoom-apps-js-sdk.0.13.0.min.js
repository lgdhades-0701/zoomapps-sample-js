/*
  Copyright (c) 2021 Zoom Video Communications, Inc.

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
*/
/* Portions of the code are covered by the following license */
/*
    MIT LICENSE
    Copyright 2011 Jon Leighton
    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    */

/* Portions of this code are covered by the following license */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var zoomSdk = (function () {
    'use strict';
    var t,
        n,
        o,
        i = function (t, n) {
            return (i =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                    function (t, n) {
                        t.__proto__ = n;
                    }) ||
                function (t, n) {
                    for (var o in n)
                        Object.prototype.hasOwnProperty.call(n, o) &&
                            (t[o] = n[o]);
                })(t, n);
        };
    function e(t, n, o, i) {
        return new (o || (o = Promise))(function (e, r) {
            function u(t) {
                try {
                    c(i.next(t));
                } catch (t) {
                    r(t);
                }
            }
            function a(t) {
                try {
                    c(i.throw(t));
                } catch (t) {
                    r(t);
                }
            }
            function c(t) {
                var n;
                t.done
                    ? e(t.value)
                    : ((n = t.value),
                      n instanceof o
                          ? n
                          : new o(function (t) {
                                t(n);
                            })).then(u, a);
            }
            c((i = i.apply(t, n || [])).next());
        });
    }
    function r(t, n) {
        var o,
            i,
            e,
            r,
            u = {
                label: 0,
                sent: function () {
                    if (1 & e[0]) throw e[1];
                    return e[1];
                },
                trys: [],
                ops: [],
            };
        return (
            (r = { next: a(0), throw: a(1), return: a(2) }),
            'function' == typeof Symbol &&
                (r[Symbol.iterator] = function () {
                    return this;
                }),
            r
        );
        function a(r) {
            return function (a) {
                return (function (r) {
                    if (o)
                        throw new TypeError('Generator is already executing.');
                    for (; u; )
                        try {
                            if (
                                ((o = 1),
                                i &&
                                    (e =
                                        2 & r[0]
                                            ? i.return
                                            : r[0]
                                            ? i.throw ||
                                              ((e = i.return) && e.call(i), 0)
                                            : i.next) &&
                                    !(e = e.call(i, r[1])).done)
                            )
                                return e;
                            switch (
                                ((i = 0), e && (r = [2 & r[0], e.value]), r[0])
                            ) {
                                case 0:
                                case 1:
                                    e = r;
                                    break;
                                case 4:
                                    return u.label++, { value: r[1], done: !1 };
                                case 5:
                                    u.label++, (i = r[1]), (r = [0]);
                                    continue;
                                case 7:
                                    (r = u.ops.pop()), u.trys.pop();
                                    continue;
                                default:
                                    if (
                                        !((e = u.trys),
                                        (e = e.length > 0 && e[e.length - 1]) ||
                                            (6 !== r[0] && 2 !== r[0]))
                                    ) {
                                        u = 0;
                                        continue;
                                    }
                                    if (
                                        3 === r[0] &&
                                        (!e || (r[1] > e[0] && r[1] < e[3]))
                                    ) {
                                        u.label = r[1];
                                        break;
                                    }
                                    if (6 === r[0] && u.label < e[1]) {
                                        (u.label = e[1]), (e = r);
                                        break;
                                    }
                                    if (e && u.label < e[2]) {
                                        (u.label = e[2]), u.ops.push(r);
                                        break;
                                    }
                                    e[2] && u.ops.pop(), u.trys.pop();
                                    continue;
                            }
                            r = n.call(t, u);
                        } catch (t) {
                            (r = [6, t]), (i = 0);
                        } finally {
                            o = e = 0;
                        }
                    if (5 & r[0]) throw r[1];
                    return { value: r[0] ? r[1] : void 0, done: !0 };
                })([r, a]);
            };
        }
    }
    !(function (t) {
        (t.CONFIG = 'config'),
            (t.SET_VIRTUAL_BACKGROUND = 'setVirtualBackground'),
            (t.REMOVE_VIRTUAL_BACKGROUND = 'removeVirtualBackground'),
            (t.SET_VIRTUAL_FOREGROUND = 'setVirtualForeground'),
            (t.REMOVE_VIRTUAL_FOREGROUND = 'removeVirtualForeground'),
            (t.GET_SUPPORTED_JS_APIS = 'getSupportedJsApis'),
            (t.GET_MEETING_CONTEXT = 'getMeetingContext'),
            (t.GET_RUNNING_CONTEXT = 'getRunningContext'),
            (t.OPEN_URL = 'openUrlInSysBrowser'),
            (t.SHOW_NOTIFICATION = 'showNotification'),
            (t.CLOUD_RECORDING = 'cloudRecording'),
            (t.SHARE_APP = 'shareApp'),
            (t.LIST_CAMERAS = 'listCameras'),
            (t.SET_CAMERA = 'setCamera'),
            (t.SET_VIDEO_MIRROR_EFFECT = 'setVideoMirrorEffect'),
            (t.GET_MEETING_PARTICIPANTS = 'getMeetingParticipants'),
            (t.SEND_APP_INVITATION = 'sendAppInvitation'),
            (t.GET_USER_CONTEXT = 'getUserContext'),
            (t.GET_RECORDING_CONTEXT = 'getRecordingContext'),
            (t.GET_MEETING_JOIN_URL = 'getMeetingJoinUrl'),
            (t.GET_MEETING_UUID = 'getMeetingUUID'),
            (t.EXPAND_APP = 'expandApp'),
            (t.CONNECT = 'connect'),
            (t.POST_MESSAGE = 'postMessage'),
            (t.ALLOW_PARTICIPANT_TO_RECORD = 'allowParticipantToRecord'),
            (t.LAUNCH_APP_IN_MEETING = 'launchAppInMeeting'),
            (t.SHOW_APP_INVITATION_DIALOG = 'showAppInvitationDialog'),
            (t.SEND_APP_INVITATION_TO_MEETING_OWNER =
                'sendAppInvitationToMeetingOwner'),
            (t.SEND_APP_INVITATION_TO_ALL_PARTICIPANTS =
                'sendAppInvitationToAllParticipants'),
            (t.END_SYNC_DATA = 'endSyncData'),
            (t.RUN_RENDERING_CONTEXT = 'runRenderingContext'),
            (t.CLOSE_RENDERING_CONTEXT = 'closeRenderingContext'),
            (t.DRAW_PARTICIPANT = 'drawParticipant'),
            (t.DRAW_IMAGE = 'drawImage'),
            (t.CLEAR_PARTICIPANT = 'clearParticipant'),
            (t.CLEAR_IMAGE = 'clearImage');
    })(t || (t = {})),
        (function (t) {
            (t.ON_SHARE_APP = 'shareApp'),
                (t.ON_SEND_APP_INVITATION = 'sendAppInvitation'),
                (t.ON_CLOUD_RECORDING = 'onCloudRecording'),
                (t.ON_REACTION = 'onReaction'),
                (t.ON_PARTICIPANT_CHANGE = 'onParticipantChange'),
                (t.ON_ACTIVE_SPEAKER_CHANGE = 'onActiveSpeakerChange'),
                (t.ON_APP_POPOUT = 'onAppPopout'),
                (t.ON_COHOST_CHANGE = 'onCohostChange'),
                (t.ON_EXPAND_APP = 'onExpandApp'),
                (t.ON_CONNECT = 'onConnect'),
                (t.ON_MESSAGE = 'onMessage'),
                (t.ON_MEETING = 'onMeeting'),
                (t.ON_MY_REACTION = 'onMyReaction'),
                (t.ON_MY_ACTIVE_SPEAKER_CHANGE = 'onMyActiveSpeakerChange'),
                (t.ON_MY_USER_CONTEXT_CHANGE = 'onMyUserContextChange'),
                (t.ON_MY_MEDIA_CHANGE = 'onMyMediaChange');
        })(n || (n = {})),
        (function (t) {
            (t[(t.DEFAULT = 1e4)] = 'DEFAULT'),
                (t[(t.SET_VIRTUAL_BACKGROUND = 12e4)] =
                    'SET_VIRTUAL_BACKGROUND');
        })(o || (o = {}));
    var u = {},
        a = {},
        c = (function (t) {
            function n(o, i) {
                var e = t.call(this, o) || this;
                return (e.code = i), Object.setPrototypeOf(e, n.prototype), e;
            }
            return (
                (function (t, n) {
                    function o() {
                        this.constructor = t;
                    }
                    i(t, n),
                        (t.prototype =
                            null === n
                                ? Object.create(n)
                                : ((o.prototype = n.prototype), new o()));
                })(n, t),
                n
            );
        })(Error),
        s = (function () {
            function i(t) {
                (this._postMessage = t.postMessage), (this.version = t.version);
            }
            return (
                (i.prototype.native2js = function (t) {
                    if ('apiResponse' === t.data.type) {
                        var n = t.data.data.jsCallId;
                        u[n](t.data.data);
                    } else
                        'event' === t.data.type &&
                            a[t.data.name] &&
                            a[t.data.name].forEach(function (n) {
                                return n(t.data.data);
                            });
                }),
                (i.prototype.callZoomApi = function (t, n, i, a) {
                    return e(this, void 0, void 0, function () {
                        var e,
                            s,
                            d = this;
                        return r(this, function (r) {
                            return (
                                (e =
                                    'id' + Math.random().toString(16).slice(2)),
                                (s = { jsCallId: e, apiName: t }),
                                n && (s.data = n),
                                [
                                    2,
                                    new Promise(function (t, n) {
                                        var r = setTimeout(function () {
                                            var t = new Error(
                                                'The native client did not provide a response to the API call'
                                            );
                                            n(t), p(e);
                                        }, i || o.DEFAULT);
                                        !(function (t, n) {
                                            u[t] = n;
                                        })(e, function (o) {
                                            var i = o.errorCode,
                                                u = o.errorMessage,
                                                s = o.result;
                                            if (i || u) {
                                                var d = new c(u, i);
                                                n(d);
                                            } else t(a ? a(s) : s);
                                            p(e), clearTimeout(r);
                                        }),
                                            d._postMessage(s);
                                    }),
                                ]
                            );
                        });
                    });
                }),
                (i.prototype.config = function (n) {
                    return (
                        void 0 === n && (n = {}),
                        e(this, void 0, void 0, function () {
                            return r(this, function (o) {
                                return (
                                    n.capabilities &&
                                        ((n.js_api_lists = (function () {
                                            for (
                                                var t = 0,
                                                    n = 0,
                                                    o = arguments.length;
                                                n < o;
                                                n++
                                            )
                                                t += arguments[n].length;
                                            var i = Array(t),
                                                e = 0;
                                            for (n = 0; n < o; n++)
                                                for (
                                                    var r = arguments[n],
                                                        u = 0,
                                                        a = r.length;
                                                    u < a;
                                                    u++, e++
                                                )
                                                    i[e] = r[u];
                                            return i;
                                        })(n.capabilities)),
                                        delete n.capabilities),
                                    (!n.js_api_lists ||
                                        (n.js_api_lists &&
                                            !Array.isArray(n.js_api_lists))) &&
                                        (n.js_api_lists = []),
                                    [2, this.callZoomApi(t.CONFIG, n)]
                                );
                            });
                        })
                    );
                }),
                (i.prototype.getSupportedJsApis = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(
                                    t.GET_SUPPORTED_JS_APIS,
                                    null,
                                    null,
                                    function (t) {
                                        return d(t) ? JSON.parse(t) : t;
                                    }
                                ),
                            ];
                        });
                    });
                }),
                (i.prototype.openUrl = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return (
                                new URL(n.url),
                                [2, this.callZoomApi(t.OPEN_URL, n)]
                            );
                        });
                    });
                }),
                (i.prototype.getRunningContext = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.GET_RUNNING_CONTEXT)];
                        });
                    });
                }),
                (i.prototype.getMeetingContext = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(
                                    t.GET_MEETING_CONTEXT,
                                    null,
                                    null,
                                    function (t) {
                                        return d(t) ? JSON.parse(t) : t;
                                    }
                                ),
                            ];
                        });
                    });
                }),
                (i.prototype.setVirtualBackground = function (n) {
                    return e(this, void 0, void 0, function () {
                        var i;
                        return r(this, function (e) {
                            switch (e.label) {
                                case 0:
                                    return n.blur
                                        ? [
                                              2,
                                              this.callZoomApi(
                                                  t.SET_VIRTUAL_BACKGROUND,
                                                  { blur: !0 },
                                                  o.SET_VIRTUAL_BACKGROUND
                                              ),
                                          ]
                                        : n.fileUrl
                                        ? (new URL(n.fileUrl),
                                          [
                                              4,
                                              ((r = n.fileUrl),
                                              new Promise(function (t) {
                                                  var n =
                                                          document.createElement(
                                                              'canvas'
                                                          ),
                                                      o = new Image();
                                                  (o.crossOrigin = 'Anonymous'),
                                                      (o.onload = function () {
                                                          var i =
                                                              (_ * o.height) /
                                                              o.width;
                                                          (n.width = _),
                                                              (n.height = i);
                                                          var e =
                                                              n.getContext(
                                                                  '2d'
                                                              );
                                                          e.drawImage(
                                                              o,
                                                              0,
                                                              0,
                                                              _,
                                                              i
                                                          );
                                                          var r =
                                                              e.getImageData(
                                                                  0,
                                                                  0,
                                                                  _,
                                                                  i
                                                              );
                                                          t(r);
                                                      }),
                                                      (o.src = r);
                                              })),
                                          ])
                                        : [3, 2];
                                case 1:
                                    return (
                                        (i = e.sent()),
                                        [
                                            2,
                                            this.callZoomApi(
                                                t.SET_VIRTUAL_BACKGROUND,
                                                i,
                                                o.SET_VIRTUAL_BACKGROUND
                                            ),
                                        ]
                                    );
                                case 2:
                                    if (n.imageData)
                                        return [
                                            2,
                                            this.callZoomApi(
                                                t.SET_VIRTUAL_BACKGROUND,
                                                n.imageData,
                                                o.SET_VIRTUAL_BACKGROUND
                                            ),
                                        ];
                                    throw new Error(
                                        'setVirtualBackground() parameter fileUrl or imageData is required if blur is not true'
                                    );
                            }
                            var r;
                        });
                    });
                }),
                (i.prototype.removeVirtualBackground = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.REMOVE_VIRTUAL_BACKGROUND),
                            ];
                        });
                    });
                }),
                (i.prototype.setVirtualForeground = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.SET_VIRTUAL_FOREGROUND, n),
                            ];
                        });
                    });
                }),
                (i.prototype.removeVirtualForeground = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.REMOVE_VIRTUAL_FOREGROUND),
                            ];
                        });
                    });
                }),
                (i.prototype.showNotification = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.SHOW_NOTIFICATION, n),
                            ];
                        });
                    });
                }),
                (i.prototype.cloudRecording = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.CLOUD_RECORDING, n)];
                        });
                    });
                }),
                (i.prototype.shareApp = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.SHARE_APP, n)];
                        });
                    });
                }),
                (i.prototype.listCameras = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.LIST_CAMERAS)];
                        });
                    });
                }),
                (i.prototype.setCamera = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.SET_CAMERA, n)];
                        });
                    });
                }),
                (i.prototype.setVideoMirrorEffect = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.SET_VIDEO_MIRROR_EFFECT, n),
                            ];
                        });
                    });
                }),
                (i.prototype.getMeetingParticipants = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.GET_MEETING_PARTICIPANTS),
                            ];
                        });
                    });
                }),
                (i.prototype.sendAppInvitation = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.SEND_APP_INVITATION, n),
                            ];
                        });
                    });
                }),
                (i.prototype.getUserContext = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.GET_USER_CONTEXT)];
                        });
                    });
                }),
                (i.prototype.getRecordingContext = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.GET_RECORDING_CONTEXT),
                            ];
                        });
                    });
                }),
                (i.prototype.getMeetingJoinUrl = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.GET_MEETING_JOIN_URL),
                            ];
                        });
                    });
                }),
                (i.prototype.getMeetingUUID = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.GET_MEETING_UUID)];
                        });
                    });
                }),
                (i.prototype.expandApp = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.EXPAND_APP, n)];
                        });
                    });
                }),
                (i.prototype.connect = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.CONNECT)];
                        });
                    });
                }),
                (i.prototype.postMessage = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.POST_MESSAGE, n)];
                        });
                    });
                }),
                (i.prototype.allowParticipantToRecord = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(
                                    t.ALLOW_PARTICIPANT_TO_RECORD,
                                    n
                                ),
                            ];
                        });
                    });
                }),
                (i.prototype.launchAppInMeeting = function (n) {
                    return (
                        void 0 === n && (n = {}),
                        e(this, void 0, void 0, function () {
                            return r(this, function (o) {
                                return [
                                    2,
                                    this.callZoomApi(
                                        t.LAUNCH_APP_IN_MEETING,
                                        n
                                    ),
                                ];
                            });
                        })
                    );
                }),
                (i.prototype.showAppInvitationDialog = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.SHOW_APP_INVITATION_DIALOG),
                            ];
                        });
                    });
                }),
                (i.prototype.sendAppInvitationToMeetingOwner = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(
                                    t.SEND_APP_INVITATION_TO_MEETING_OWNER
                                ),
                            ];
                        });
                    });
                }),
                (i.prototype.sendAppInvitationToAllParticipants = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(
                                    t.SEND_APP_INVITATION_TO_ALL_PARTICIPANTS
                                ),
                            ];
                        });
                    });
                }),
                (i.prototype.endSyncData = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [2, this.callZoomApi(t.END_SYNC_DATA)];
                        });
                    });
                }),
                (i.prototype.runRenderingContext = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.RUN_RENDERING_CONTEXT, n),
                            ];
                        });
                    });
                }),
                (i.prototype.closeRenderingContext = function () {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (n) {
                            return [
                                2,
                                this.callZoomApi(t.CLOSE_RENDERING_CONTEXT),
                            ];
                        });
                    });
                }),
                (i.prototype.drawParticipant = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return (
                                n.x && (n.x = A(n.x, window.innerWidth)),
                                n.y && (n.y = A(n.y, window.innerHeight)),
                                n.width &&
                                    (n.width = A(n.width, window.innerWidth)),
                                n.height &&
                                    (n.height = A(
                                        n.height,
                                        window.innerHeight
                                    )),
                                [2, this.callZoomApi(t.DRAW_PARTICIPANT, n)]
                            );
                        });
                    });
                }),
                (i.prototype.drawImage = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return (
                                n.x && (n.x = A(n.x, window.innerWidth)),
                                n.y && (n.y = A(n.y, window.innerHeight)),
                                [2, this.callZoomApi(t.DRAW_IMAGE, n)]
                            );
                        });
                    });
                }),
                (i.prototype.clearParticipant = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [
                                2,
                                this.callZoomApi(t.CLEAR_PARTICIPANT, n),
                            ];
                        });
                    });
                }),
                (i.prototype.clearImage = function (n) {
                    return e(this, void 0, void 0, function () {
                        return r(this, function (o) {
                            return [2, this.callZoomApi(t.CLEAR_IMAGE, n)];
                        });
                    });
                }),
                (i.prototype.onShareApp = function (t) {
                    this.addEventListener(n.ON_SHARE_APP, t);
                }),
                (i.prototype.onSendAppInvitation = function (t) {
                    this.addEventListener(n.ON_SEND_APP_INVITATION, t);
                }),
                (i.prototype.onCloudRecording = function (t) {
                    this.addEventListener(n.ON_CLOUD_RECORDING, t);
                }),
                (i.prototype.onReaction = function (t) {
                    this.addEventListener(n.ON_REACTION, t);
                }),
                (i.prototype.onParticipantChange = function (t) {
                    this.addEventListener(n.ON_PARTICIPANT_CHANGE, t);
                }),
                (i.prototype.onActiveSpeakerChange = function (t) {
                    this.addEventListener(n.ON_ACTIVE_SPEAKER_CHANGE, t);
                }),
                (i.prototype.onAppPopout = function (t) {
                    this.addEventListener(n.ON_APP_POPOUT, t);
                }),
                (i.prototype.onCohostChange = function (t) {
                    this.addEventListener(n.ON_COHOST_CHANGE, t);
                }),
                (i.prototype.onExpandApp = function (t) {
                    this.addEventListener(n.ON_EXPAND_APP, t);
                }),
                (i.prototype.onConnect = function (t) {
                    this.addEventListener(n.ON_CONNECT, t);
                }),
                (i.prototype.onMessage = function (t) {
                    this.addEventListener(n.ON_MESSAGE, t);
                }),
                (i.prototype.onMeeting = function (t) {
                    this.addEventListener(n.ON_MEETING, t);
                }),
                (i.prototype.onMyReaction = function (t) {
                    this.addEventListener(n.ON_MY_REACTION, t);
                }),
                (i.prototype.onMyActiveSpeakerChange = function (t) {
                    this.addEventListener(n.ON_MY_ACTIVE_SPEAKER_CHANGE, t);
                }),
                (i.prototype.onMyUserContextChange = function (t) {
                    this.addEventListener(n.ON_MY_USER_CONTEXT_CHANGE, t);
                }),
                (i.prototype.onMyMediaChange = function (t) {
                    this.addEventListener(n.ON_MY_MEDIA_CHANGE, t);
                }),
                (i.prototype.addEventListener = function (t, n) {
                    a[t] ? a[t].push(n) : (a[t] = [n]);
                }),
                (i.prototype.removeEventListener = function (t, n) {
                    a[t] &&
                        (a[t] = a[t].filter(function (t) {
                            return t !== n;
                        }));
                }),
                i
            );
        })();
    function p(t) {
        u[t] && delete u[t];
    }
    function d(t) {
        return 'string' == typeof t;
    }
    var _ = 1280;
    function A(t, n) {
        if (d(t)) {
            var o = parseFloat(t);
            if (t.endsWith('px'))
                return Math.trunc(o * window.devicePixelRatio);
            if (t.endsWith('%'))
                return Math.trunc((o / 100) * n * window.devicePixelRatio);
        }
        return t;
    }
    var l = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    function f(t) {
        for (
            var n,
                o = new Uint8Array(t),
                i = o.byteLength,
                e = i % 3,
                r = i - e,
                u = '',
                a = 0;
            a < r;
            a += 3
        )
            (n = (o[a] << 16) | (o[a + 1] << 8) | o[a + 2]),
                (u +=
                    l[(16515072 & n) >> 18] +
                    l[(258048 & n) >> 12] +
                    l[(4032 & n) >> 6] +
                    l[63 & n]);
        return (
            1 == e
                ? ((n = o[r]),
                  (u += l[(252 & n) >> 2] + l[(3 & n) << 4] + '=='))
                : 2 == e &&
                  ((n = (o[r] << 8) | o[r + 1]),
                  (u +=
                      l[(64512 & n) >> 10] +
                      l[(1008 & n) >> 4] +
                      l[(15 & n) << 2] +
                      '=')),
            u
        );
    }
    function h(t) {
        return JSON.stringify(t, function (t, n) {
            return (null == n ? void 0 : n.constructor) === ImageData
                ? {
                      width: (o = n).width,
                      height: o.height,
                      bitmap:
                          'data:object/Uint8ClampedArray;base64,' + f(o.data),
                  }
                : n;
            var o;
        });
    }
    return (function (t) {
        var n = (function (t) {
            var n, o, i;
            return t.android
                ? { type: 'android', nativeInterface: t.android }
                : (null === (n = t.chrome) || void 0 === n ? void 0 : n.webview)
                ? { type: 'chrome', nativeInterface: t.chrome.webview }
                : (
                      null ===
                          (i =
                              null === (o = t.webkit) || void 0 === o
                                  ? void 0
                                  : o.messageHandlers) || void 0 === i
                          ? void 0
                          : i.jsOCHelper
                  )
                ? {
                      type: 'webkit',
                      nativeInterface: t.webkit.messageHandlers.jsOCHelper,
                  }
                : void 0;
        })((t = t || window));
        if (n) {
            var o = new s({
                postMessage: function (t) {
                    try {
                        var o = h(t);
                        n.nativeInterface.postMessage(o);
                    } catch (t) {
                        console.error('Failed to serialize NativeApiRequest');
                    }
                },
                version: '0.13.0',
            });
            return (
                'chrome' === n.type &&
                    n.nativeInterface.addEventListener('message', o.native2js),
                o
            );
        }
        console.warn('The Zoom Apps SDK is not supported by this browser');
    })();
})();
